{"filter":false,"title":"CommentController.php","tooltip":"/blog/app/Http/Controllers/CommentController.php","undoManager":{"mark":6,"position":6,"stack":[[{"start":{"row":0,"column":0},"end":{"row":25,"column":0},"action":"insert","lines":["namespace App\\Http\\Controllers;","","use Illuminate\\Http\\Request;","use App\\Models\\Coments;","use App\\Models\\Post;","","class CommentController extends Controller","{","    public function store(Request $request, Post $post)","    {","        $request->validate([","            'body' => 'required|string|max:200',","        ]);","","        // コメントを保存","        Coments::create([","            'post_id' => $post->id,","            'user_id' => auth()->id(), // ログインユーザーのIDを使用","            'body' => $request->input('body'),","        ]);","","        // 投稿詳細ページにリダイレクト","        return redirect()->route('posts.show', ['post' => $post->id])->with('success', 'Comment added successfully!');","    }","}",""],"id":1}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":2}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":5},"action":"insert","lines":["<?php"],"id":3}],[{"start":{"row":23,"column":45},"end":{"row":23,"column":117},"action":"remove","lines":[", ['post' => $post->id])->with('success', 'Comment added successfully!')"],"id":4}],[{"start":{"row":23,"column":45},"end":{"row":23,"column":46},"action":"insert","lines":[")"],"id":5}],[{"start":{"row":22,"column":8},"end":{"row":23,"column":47},"action":"remove","lines":["// 投稿詳細ページにリダイレクト","        return redirect()->route('posts.show');"],"id":6}],[{"start":{"row":22,"column":8},"end":{"row":24,"column":70},"action":"insert","lines":["// 投稿詳細ページにリダイレクト","    return redirect()->route('posts.show', ['post' => $post->id])","                     ->with('success', 'Comment added successfully!');"],"id":7}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":21,"column":0},"end":{"row":21,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1724809468621,"hash":"32332061f43f6e6508f479a01cc80d960a8f16e0"}